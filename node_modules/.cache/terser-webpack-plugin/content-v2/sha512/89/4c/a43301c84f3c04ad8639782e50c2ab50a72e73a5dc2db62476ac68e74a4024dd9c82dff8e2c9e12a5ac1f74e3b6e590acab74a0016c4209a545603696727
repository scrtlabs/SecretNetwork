{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{382:function(s,t,n){\"use strict\";n.r(t);var a=n(43),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"sgx-requirements\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#sgx-requirements\"}},[s._v(\"#\")]),s._v(\" SGX Requirements\")]),s._v(\" \"),n(\"h2\",{attrs:{id:\"hardware\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#hardware\"}},[s._v(\"#\")]),s._v(\" Hardware\")]),s._v(\" \"),n(\"ol\",[n(\"li\",[s._v(\"Go to your BIOS menu\")]),s._v(\" \"),n(\"li\",[s._v(\"Enable SGX (Software controlled is not enough)\")]),s._v(\" \"),n(\"li\",[s._v(\"Disable Secure Boot\")])]),s._v(\" \"),n(\"h2\",{attrs:{id:\"software\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#software\"}},[s._v(\"#\")]),s._v(\" Software\")]),s._v(\" \"),n(\"p\",[s._v(\"First, make sure you have Rust installed: https://www.rust-lang.org/tools/install\")]),s._v(\" \"),n(\"ul\",[n(\"li\",[n(\"p\",[s._v(\"Once Rust is installed, install the \"),n(\"code\",[s._v(\"nightly\")]),s._v(\" toolchain:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"rustup toolchain \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" nightly\\n\")])])])])]),s._v(\" \"),n(\"p\",[s._v(\"Then you can use this script (or run the commands one-by-one), which was tested on Ubuntu 20.04 with SGX driver/sdk version 2.9 intended for Ubuntu 18.04:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"UBUNTUVERSION\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),s._v(\"lsb_release -r -s \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cut\")]),s._v(\" -d \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'.'\")]),s._v(\" -f \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"if\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"((\")]),s._v(\"$UBUNTUVERSION \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"16\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"))\")])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"then\")]),s._v(\"\\n\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"Your version of Ubuntu is not supported. Must have Ubuntu 16.04 and up. Aborting installation script...\"')]),s._v(\"\\n\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exit\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"elif\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"((\")]),s._v(\"$UBUNTUVERSION \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"18\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"))\")])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"then\")]),s._v(\"\\n\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DISTRO\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'xenial'\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"else\")]),s._v(\"\\n\\t\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DISTRO\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'bionic'\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"fi\")]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('#######################################\"')]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"##### Installing missing packages #####\"')]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"#######################################'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('\"')]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Install needed packages for script\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"lynx\")]),s._v(\" parallel gdebi\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Create a working directory to download and install the SDK inside\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" -p \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v('/.sgxsdk\"')]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# In a new sub-shell cd into our working directory so to no pollute the\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# original shell's working directory\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v('/.sgxsdk\"')]),s._v(\"\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('################################################\"')]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"##### Downloading Intel SGX driver and SDK #####\"')]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"################################################'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('\"')]),s._v(\"\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 1. Go to https://download.01.org/intel-sgx/sgx-linux\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 2. Step into the latest version\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 3. Step into `distro/$LATEST_UBUNTU_YOU_SEE_THERE`\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 4. Download `sgx_linux_x64_driver_*.bin` and `sgx_linux_x64_sdk_*.bin`\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"lynx\")]),s._v(\" -dump -listonly -nonumbers https://download.01.org/intel-sgx/sgx-linux/ \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"grep\")]),s._v(\" -P \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'sgx-linux/(\\\\d\\\\.?)+/'\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sort\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tail\")]),s._v(\" -1 \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      parallel --bar --verbose \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"lynx\")]),s._v(\" -dump -listonly -nonumbers \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"{}/distro\"')]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"grep\")]),s._v(\" -P \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'ubuntu\\\\d\\\\d'\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sort\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tail\")]),s._v(\" -1 \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      parallel --bar --verbose \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"lynx\")]),s._v(\" -dump -listonly -nonumbers \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"grep\")]),s._v(\" -P \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'\\\\.bin$'\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      parallel --bar --verbose \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -OSs\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Make the driver and SDK installers executable\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x ./sgx_linux_*.bin\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('###############################################\"')]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"##### Installing Intel SGX driver and SDK #####\"')]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"###############################################'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('\"')]),s._v(\"\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Install the driver\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" ./sgx_linux_x64_driver_*.bin\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Remount /dev as exec, also at system startup\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tee\")]),s._v(\" /etc/systemd/system/remount-dev-exec.service \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"/dev/null \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<<\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"EOF\\n[Unit]\\nDescription=Remount /dev as exec to allow AESM service to boot and load enclaves into SGX\\n\\n[Service]\\nType=oneshot\\nExecStart=/bin/mount -o remount,exec /dev\\nRemainAfterExit=true\\n\\n[Install]\\nWantedBy=multi-user.target\\nEOF\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" remount-dev-exec\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl start remount-dev-exec\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Install the SDK inside ./sgxsdk/ which is inside $HOME/.sgxsdk\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"yes\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" ./sgx_linux_x64_sdk_*.bin\\n\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Setup the environment variables for every new shell\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"\\\"source '\"),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v(\"/.sgxsdk/sgxsdk/environment'\\\"\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tee\")]),s._v(\" -a \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v('/.bashrc\"')]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v('/.zshrc\"')]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" /dev/null\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('##############################################\"')]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"##### Installing additional dependencies #####\"')]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"##############################################'),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),n(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v('\"')]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Add Intels's SGX PPA\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"deb [arch=amd64] https://download.01.org/intel-sgx/sgx_repo/ubuntu '),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$DISTRO\")]),s._v(' main\"')]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tee\")]),s._v(\" /etc/apt/sources.list.d/intel-sgx.list\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" -qO - https://download.01.org/intel-sgx/sgx_repo/ubuntu/intel-sgx-deb.key \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" apt-key \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"add\")]),s._v(\" -\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt\")]),s._v(\" update\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Install all the additional necessary dependencies (besides the driver and the SDK)\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# for building a rust enclave\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" -O /tmp/libprotobuf10_3.0.0-9_amd64.deb http://ftp.br.debian.org/debian/pool/main/p/protobuf/libprotobuf10_3.0.0-9_amd64.deb\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"sleep \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" y\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" gdebi /tmp/libprotobuf10_3.0.0-9_amd64.deb\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y libsgx-enclave-common libsgx-enclave-common-dev libsgx-urts sgx-aesm-service libsgx-uae-service libsgx-launch libsgx-aesm-launch-plugin libsgx-ae-le autoconf libtool\\n\")])])]),n(\"p\",[s._v(\"Note that sometimes after a system reboot you'll need to reinstall the driver (usually after a kernel upgrade):\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v(\"/.sgxsdk/sgx_linux_x64_driver_*.bin\\n\")])])]),n(\"h1\",{attrs:{id:\"testing-your-sgx-setup\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#testing-your-sgx-setup\"}},[s._v(\"#\")]),s._v(\" Testing your SGX setup\")]),s._v(\" \"),n(\"ol\",[n(\"li\",[n(\"p\",[s._v(\"For node runners, by using \"),n(\"code\",[s._v(\"sgx-detect\")]),s._v(\":\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y libssl-dev protobuf-compiler\\ncargo +nightly \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" fortanix-sgx-tools sgxs-tools\\n\\nsgx-detect\\n\")])])]),n(\"p\",[s._v(\"Should print at the end:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"✔  Able to launch enclaves\\n   ✔  Debug mode\\n   ✔  Production mode (Intel whitelisted)\\n\\nYou're all set to start running SGX programs!\\n\")])])])]),s._v(\" \"),n(\"li\",[n(\"p\",[s._v(\"For enclave developers, by compiling a \"),n(\"code\",[s._v(\"hello-rust\")]),s._v(\" project:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\" clone --depth \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\" -b v1.1.1-testing git@github.com:apache/incubator-teaclave-sgx-sdk.git\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" incubator-teaclave-sgx-sdk/samplecode/hello-rust\\nperl -i -pe \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'s/SGX_SDK \\\\?=.+/SGX_SDK ?= \\\\\"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"HOME\")]),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"\\\\/.sgxsdk\\\\/sgxsdk/'\")]),s._v(\" Makefile\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" bin\\n./app\\n\")])])]),n(\"p\",[s._v(\"Should print somting similar to this:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"[+] Init Enclave Successful 2!\\nThis is a normal world string passed into Enclave!\\nThis is a in-Enclave Rust string!\\ngd: 1 0 0 1\\nstatic: 1 eremove: 0 dyn: 0\\nEDMM: 0, feature: 9007268790009855\\nsupported sgx\\n[+] say_something success...\\n\")])])])])]),s._v(\" \"),n(\"h1\",{attrs:{id:\"uninstall\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#uninstall\"}},[s._v(\"#\")]),s._v(\" Uninstall\")]),s._v(\" \"),n(\"p\",[s._v(\"To uninstall the Intel(R) SGX Driver, run:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" /opt/intel/sgxdriver/uninstall.sh\\n\")])])]),n(\"p\",[s._v(\"The above command produces no output when it succeeds. If you want to verify that the driver has been uninstalled, you can run the following, which should print \"),n(\"code\",[s._v(\"SGX Driver NOT installed\")]),s._v(\":\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\" /dev/isgx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&>\")]),s._v(\"/dev/null \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"SGX Driver installed\"')]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"||\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"SGX Driver NOT installed\"')]),s._v(\"\\n\")])])]),n(\"p\",[s._v(\"To uninstall the SGX SDK, run:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v('\"')]),s._v(\"/.sgxsdk/sgxsdk/uninstall.sh\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rm\")]),s._v(\" -rf \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),n(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v('/.sgxsdk\"')]),s._v(\"\\n\")])])]),n(\"p\",[s._v(\"To uninstall the rest of the dependencies, run:\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"apt\")]),s._v(\" purge -y libsgx-enclave-common libsgx-enclave-common-dev libsgx-urts sgx-aesm-service libsgx-uae-service libsgx-launch libsgx-aesm-launch-plugin libsgx-ae-le\\n\")])])]),n(\"h1\",{attrs:{id:\"refs\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#refs\"}},[s._v(\"#\")]),s._v(\" Refs\")]),s._v(\" \"),n(\"ol\",[n(\"li\",[n(\"a\",{attrs:{href:\"https://github.com/apache/incubator-teaclave-sgx-sdk/wiki/Environment-Setup\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/apache/incubator-teaclave-sgx-sdk/wiki/Environment-Setup\"),n(\"OutboundLink\")],1)]),s._v(\" \"),n(\"li\",[n(\"a\",{attrs:{href:\"https://github.com/openenclave/openenclave/blob/master/docs/GettingStartedDocs/install_oe_sdk-Ubuntu_18.04.md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/openenclave/openenclave/blob/master/docs/GettingStartedDocs/install_oe_sdk-Ubuntu_18.04.md\"),n(\"OutboundLink\")],1)]),s._v(\" \"),n(\"li\",[n(\"a\",{attrs:{href:\"https://github.com/apache/incubator-teaclave-sgx-sdk/blob/783f04c002e243d1022c5af8a982f9c2a7138f32/dockerfile/Dockerfile.1804.nightly\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/apache/incubator-teaclave-sgx-sdk/blob/783f04c002e243d1022c5af8a982f9c2a7138f32/dockerfile/Dockerfile.1804.nightly\"),n(\"OutboundLink\")],1)]),s._v(\" \"),n(\"li\",[n(\"a\",{attrs:{href:\"https://edp.fortanix.com/docs/installation/guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://edp.fortanix.com/docs/installation/guide\"),n(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}